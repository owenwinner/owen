(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5715],{18236:function(t){t.exports=function(){"use strict";var t=function(t){var e=t.addFilter,n=t.utils,i=n.Type,r=n.replaceInString,a=n.toNaturalFileSize;return e("ALLOW_HOPPER_ITEM",(function(t,e){var n=e.query;if(!n("GET_ALLOW_FILE_SIZE_VALIDATION"))return!0;var i=n("GET_MAX_FILE_SIZE");if(null!==i&&t.size>=i)return!1;var r=n("GET_MIN_FILE_SIZE");return!(null!==r&&t.size<=r)})),e("LOAD_FILE",(function(t,e){var n=e.query;return new Promise((function(e,i){if(!n("GET_ALLOW_FILE_SIZE_VALIDATION"))return e(t);var o=n("GET_FILE_VALIDATE_SIZE_FILTER");if(o&&!o(t))return e(t);var u=n("GET_MAX_FILE_SIZE");if(null!==u&&t.size>=u)i({status:{main:n("GET_LABEL_MAX_FILE_SIZE_EXCEEDED"),sub:r(n("GET_LABEL_MAX_FILE_SIZE"),{filesize:a(u,".",n("GET_FILE_SIZE_BASE"))})}});else{var c=n("GET_MIN_FILE_SIZE");if(null!==c&&t.size<=c)i({status:{main:n("GET_LABEL_MIN_FILE_SIZE_EXCEEDED"),sub:r(n("GET_LABEL_MIN_FILE_SIZE"),{filesize:a(c,".",n("GET_FILE_SIZE_BASE"))})}});else{var l=n("GET_MAX_TOTAL_FILE_SIZE");if(null!==l&&n("GET_ACTIVE_ITEMS").reduce((function(t,e){return t+e.fileSize}),0)>l)return void i({status:{main:n("GET_LABEL_MAX_TOTAL_FILE_SIZE_EXCEEDED"),sub:r(n("GET_LABEL_MAX_TOTAL_FILE_SIZE"),{filesize:a(l)})}});e(t)}}}))})),{options:{allowFileSizeValidation:[!0,i.BOOLEAN],maxFileSize:[null,i.INT],minFileSize:[null,i.INT],maxTotalFileSize:[null,i.INT],fileValidateSizeFilter:[null,i.FUNCTION],labelMinFileSizeExceeded:["File is too small",i.STRING],labelMinFileSize:["Minimum file size is {filesize}",i.STRING],labelMaxFileSizeExceeded:["File is too large",i.STRING],labelMaxFileSize:["Maximum file size is {filesize}",i.STRING],labelMaxTotalFileSizeExceeded:["Maximum total size exceeded",i.STRING],labelMaxTotalFileSize:["Maximum total file size is {filesize}",i.STRING]}}};return"undefined"!==typeof window&&"undefined"!==typeof window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:t})),t}()},90521:function(t){t.exports=function(){"use strict";var t=function(t){var e=t.addFilter,n=t.utils,i=n.Type,r=n.isString,a=n.replaceInString,o=n.guesstimateMimeType,u=n.getExtensionFromFilename,c=n.getFilenameFromURL,l=function(t,e){return(/^[^/]+/.exec(t)||[]).pop()===e.slice(0,-2)},s=function(t,e){return t.some((function(t){return/\*$/.test(t)?l(e,t):t===e}))},f=function(t){var e="";if(r(t)){var n=c(t),i=u(n);i&&(e=o(i))}else e=t.type;return e},h=function(t,e,n){if(0===e.length)return!0;var i=f(t);return n?new Promise((function(r,a){n(t,i).then((function(t){s(e,t)?r():a()})).catch(a)})):s(e,i)},d=function(t){return function(e){return null!==t[e]&&(t[e]||e)}};return e("SET_ATTRIBUTE_TO_OPTION_MAP",(function(t){return Object.assign(t,{accept:"acceptedFileTypes"})})),e("ALLOW_HOPPER_ITEM",(function(t,e){var n=e.query;return!n("GET_ALLOW_FILE_TYPE_VALIDATION")||h(t,n("GET_ACCEPTED_FILE_TYPES"))})),e("LOAD_FILE",(function(t,e){var n=e.query;return new Promise((function(e,i){if(n("GET_ALLOW_FILE_TYPE_VALIDATION")){var r=n("GET_ACCEPTED_FILE_TYPES"),o=n("GET_FILE_VALIDATE_TYPE_DETECT_TYPE"),u=h(t,r,o),c=function(){var t=r.map(d(n("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES_MAP"))).filter((function(t){return!1!==t}));i({status:{main:n("GET_LABEL_FILE_TYPE_NOT_ALLOWED"),sub:a(n("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES"),{allTypes:t.join(", "),allButLastType:t.slice(0,-1).join(", "),lastType:t[t.length-1]})}})};if("boolean"===typeof u)return u?e(t):c();u.then((function(){e(t)})).catch(c)}else e(t)}))})),{options:{allowFileTypeValidation:[!0,i.BOOLEAN],acceptedFileTypes:[[],i.ARRAY],labelFileTypeNotAllowed:["File is of invalid type",i.STRING],fileValidateTypeLabelExpectedTypes:["Expects {allButLastType} or {lastType}",i.STRING],fileValidateTypeLabelExpectedTypesMap:[{},i.OBJECT],fileValidateTypeDetectType:[null,i.FUNCTION]}}};return"undefined"!==typeof window&&"undefined"!==typeof window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:t})),t}()},75227:function(t){t.exports=function(){"use strict";var t=function(t){return/^image\/jpeg/.test(t.type)},e={JPEG:65496,APP1:65505,EXIF:1165519206,TIFF:18761,Orientation:274,Unknown:65280},n=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t.getUint16(e,n)},i=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t.getUint32(e,n)},r=function(t){return new Promise((function(r,a){var o=new FileReader;o.onload=function(t){var a=new DataView(t.target.result);if(n(a,0)===e.JPEG){for(var o=a.byteLength,u=2;u<o;){var c=n(a,u);if(u+=2,c===e.APP1){if(i(a,u+=2)!==e.EXIF)break;var l=n(a,u+=6)===e.TIFF;u+=i(a,u+4,l);var s=n(a,u,l);u+=2;for(var f=0;f<s;f++)if(n(a,u+12*f,l)===e.Orientation)return void r(n(a,u+12*f+8,l))}else{if((c&e.Unknown)!==e.Unknown)break;u+=n(a,u)}}r(-1)}else r(-1)},o.readAsArrayBuffer(t.slice(0,65536))}))},a="undefined"!==typeof window&&"undefined"!==typeof window.document,o="data:image/jpg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/4QA6RXhpZgAATU0AKgAAAAgAAwESAAMAAAABAAYAAAEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAD/2wBDAP//////////////////////////////////////////////////////////////////////////////////////wAALCAABAAIBASIA/8QAJgABAAAAAAAAAAAAAAAAAAAAAxABAAAAAAAAAAAAAAAAAAAAAP/aAAgBAQAAPwBH/9k=",u=void 0,c=a?new Image:{};c.onload=function(){return u=c.naturalWidth>c.naturalHeight},c.src=o;var l=function(){return u},s=function(e){var n=e.addFilter,i=e.utils,a=i.Type,o=i.isFile;return n("DID_LOAD_ITEM",(function(e,n){var i=n.query;return new Promise((function(n,a){var u=e.file;if(!o(u)||!t(u)||!i("GET_ALLOW_IMAGE_EXIF_ORIENTATION")||!l())return n(e);r(u).then((function(t){e.setMetadata("exif",{orientation:t}),n(e)}))}))})),{options:{allowImageExifOrientation:[!0,a.BOOLEAN]}}};return"undefined"!==typeof window&&"undefined"!==typeof window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:s})),s}()},72965:function(t){t.exports=function(){"use strict";var t=function(t){return/^image/.test(t.type)};function e(t){this.wrapped=t}function n(t){var n,i;function r(t,e){return new Promise((function(r,o){var u={key:t,arg:e,resolve:r,reject:o,next:null};i?i=i.next=u:(n=i=u,a(t,e))}))}function a(n,i){try{var r=t[n](i),u=r.value,c=u instanceof e;Promise.resolve(c?u.wrapped:u).then((function(t){c?a("next",t):o(r.done?"return":"normal",t)}),(function(t){a("throw",t)}))}catch(l){o("throw",l)}}function o(t,e){switch(t){case"return":n.resolve({value:e,done:!0});break;case"throw":n.reject(e);break;default:n.resolve({value:e,done:!1})}(n=n.next)?a(n.key,n.arg):i=null}this._invoke=r,"function"!==typeof t.return&&(this.return=void 0)}function i(t,e){return r(t)||a(t,e)||o()}function r(t){if(Array.isArray(t))return t}function a(t,e){var n=[],i=!0,r=!1,a=void 0;try{for(var o,u=t[Symbol.iterator]();!(i=(o=u.next()).done)&&(n.push(o.value),!e||n.length!==e);i=!0);}catch(c){r=!0,a=c}finally{try{i||null==u.return||u.return()}finally{if(r)throw a}}return n}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}"function"===typeof Symbol&&Symbol.asyncIterator&&(n.prototype[Symbol.asyncIterator]=function(){return this}),n.prototype.next=function(t){return this._invoke("next",t)},n.prototype.throw=function(t){return this._invoke("throw",t)},n.prototype.return=function(t){return this._invoke("return",t)};var u=function(t,e){return f(t.x*e,t.y*e)},c=function(t,e){return f(t.x+e.x,t.y+e.y)},l=function(t){var e=Math.sqrt(t.x*t.x+t.y*t.y);return 0===e?{x:0,y:0}:f(t.x/e,t.y/e)},s=function(t,e,n){var i=Math.cos(e),r=Math.sin(e),a=f(t.x-n.x,t.y-n.y);return f(n.x+i*a.x-r*a.y,n.y+r*a.x+i*a.y)},f=function(){return{x:arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,y:arguments.length>1&&void 0!==arguments[1]?arguments[1]:0}},h=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0;return"string"===typeof t?parseFloat(t)*n:"number"===typeof t?t*(i?e[i]:Math.min(e.width,e.height)):void 0},d=function(t,e,n){var i=t.borderStyle||t.lineStyle||"solid",r=t.backgroundColor||t.fontColor||"transparent",a=t.borderColor||t.lineColor||"transparent",o=h(t.borderWidth||t.lineWidth,e,n);return{"stroke-linecap":t.lineCap||"round","stroke-linejoin":t.lineJoin||"round","stroke-width":o||0,"stroke-dasharray":"string"===typeof i?"":i.map((function(t){return h(t,e,n)})).join(","),stroke:a,fill:r,opacity:t.opacity||1}},p=function(t){return null!=t},g=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=h(t.x,e,n,"width")||h(t.left,e,n,"width"),r=h(t.y,e,n,"height")||h(t.top,e,n,"height"),a=h(t.width,e,n,"width"),o=h(t.height,e,n,"height"),u=h(t.right,e,n,"width"),c=h(t.bottom,e,n,"height");return p(r)||(r=p(o)&&p(c)?e.height-o-c:c),p(i)||(i=p(a)&&p(u)?e.width-a-u:u),p(a)||(a=p(i)&&p(u)?e.width-i-u:0),p(o)||(o=p(r)&&p(c)?e.height-r-c:0),{x:i||0,y:r||0,width:a||0,height:o||0}},m=function(t){return t.map((function(t,e){return"".concat(0===e?"M":"L"," ").concat(t.x," ").concat(t.y)})).join(" ")},y=function(t,e){return Object.keys(e).forEach((function(n){return t.setAttribute(n,e[n])}))},v="http://www.w3.org/2000/svg",E=function(t,e){var n=document.createElementNS(v,t);return e&&y(n,e),n},w=function(t){return y(t,Object.assign({},t.rect,t.styles))},_=function(t){var e=t.rect.x+.5*t.rect.width,n=t.rect.y+.5*t.rect.height,i=.5*t.rect.width,r=.5*t.rect.height;return y(t,Object.assign({cx:e,cy:n,rx:i,ry:r},t.styles))},A={contain:"xMidYMid meet",cover:"xMidYMid slice"},T=function(t,e){y(t,Object.assign({},t.rect,t.styles,{preserveAspectRatio:A[e.fit]||"none"}))},I={left:"start",center:"middle",right:"end"},x=function(t,e,n,i){var r=h(e.fontSize,n,i),a=e.fontFamily||"sans-serif",o=e.fontWeight||"normal",u=I[e.textAlign]||"start";y(t,Object.assign({},t.rect,t.styles,{"stroke-width":0,"font-weight":o,"font-size":r,"font-family":a,"text-anchor":u})),t.text!==e.text&&(t.text=e.text,t.textContent=e.text.length?e.text:" ")},M=function(t,e,n,i){y(t,Object.assign({},t.rect,t.styles,{fill:"none"}));var r=t.childNodes[0],a=t.childNodes[1],o=t.childNodes[2],f=t.rect,d={x:t.rect.x+t.rect.width,y:t.rect.y+t.rect.height};if(y(r,{x1:f.x,y1:f.y,x2:d.x,y2:d.y}),e.lineDecoration){a.style.display="none",o.style.display="none";var p=l({x:d.x-f.x,y:d.y-f.y}),g=h(.05,n,i);if(-1!==e.lineDecoration.indexOf("arrow-begin")){var m=u(p,g),v=c(f,m),E=s(f,2,v),w=s(f,-2,v);y(a,{style:"display:block;",d:"M".concat(E.x,",").concat(E.y," L").concat(f.x,",").concat(f.y," L").concat(w.x,",").concat(w.y)})}if(-1!==e.lineDecoration.indexOf("arrow-end")){var _=u(p,-g),A=c(d,_),T=s(d,2,A),I=s(d,-2,A);y(o,{style:"display:block;",d:"M".concat(T.x,",").concat(T.y," L").concat(d.x,",").concat(d.y," L").concat(I.x,",").concat(I.y)})}}},R=function(t,e,n,i){y(t,Object.assign({},t.styles,{fill:"none",d:m(e.points.map((function(t){return{x:h(t.x,n,i,"width"),y:h(t.y,n,i,"height")}})))}))},b=function(t){return function(e){return E(t,{id:e.id})}},O=function(t){var e=E("g",{id:t.id,"stroke-linecap":"round","stroke-linejoin":"round"}),n=E("line");e.appendChild(n);var i=E("path");e.appendChild(i);var r=E("path");return e.appendChild(r),e},L={image:function(t){var e=E("image",{id:t.id,"stroke-linecap":"round","stroke-linejoin":"round",opacity:"0"});return e.onload=function(){e.setAttribute("opacity",t.opacity||1)},e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t.src),e},rect:b("rect"),ellipse:b("ellipse"),text:b("text"),path:b("path"),line:O},S={rect:w,ellipse:_,image:T,text:x,path:R,line:M},P=function(t,e){return L[t](e)},G=function(t,e,n,i,r){"path"!==e&&(t.rect=g(n,i,r)),t.styles=d(n,i,r),S[e](t,n,i,r)},C=["x","y","left","top","right","bottom","width","height"],F=function(t){return"string"===typeof t&&/%/.test(t)?parseFloat(t)/100:t},N=function(t){var e=i(t,2),n=e[0],r=e[1],a=r.points?{}:C.reduce((function(t,e){return t[e]=F(r[e]),t}),{});return[n,Object.assign({zIndex:0},r,a)]},k=function(t,e){return t[1].zIndex>e[1].zIndex?1:t[1].zIndex<e[1].zIndex?-1:0},D=function(t){return t.utils.createView({name:"image-preview-markup",tag:"svg",ignoreRect:!0,mixins:{apis:["width","height","crop","markup","resize","dirty"]},write:function(t){var e=t.root,n=t.props;if(n.dirty){var r=n.crop,a=n.resize,o=n.markup,u=n.width,c=n.height,l=r.width,s=r.height;if(a){var f=a.size,h=f&&f.width,d=f&&f.height,p=a.mode,g=a.upscale;h&&!d&&(d=h),d&&!h&&(h=d);var m=l<h&&s<d;if(!m||m&&g){var y,v=h/l,E=d/s;"force"===p?(l=h,s=d):("cover"===p?y=Math.max(v,E):"contain"===p&&(y=Math.min(v,E)),l*=y,s*=y)}}var w={width:u,height:c};e.element.setAttribute("width",w.width),e.element.setAttribute("height",w.height);var _=Math.min(u/l,c/s);e.element.innerHTML="";var A=e.query("GET_IMAGE_PREVIEW_MARKUP_FILTER");o.filter(A).map(N).sort(k).forEach((function(t){var n=i(t,2),r=n[0],a=n[1],o=P(r,a);G(o,r,a,w,_),e.element.appendChild(o)}))}}})},U=function(t,e){return{x:t,y:e}},z=function(t,e){return t.x*e.x+t.y*e.y},V=function(t,e){return U(t.x-e.x,t.y-e.y)},B=function(t,e){return z(V(t,e),V(t,e))},j=function(t,e){return Math.sqrt(B(t,e))},W=function(t,e){var n=t,i=1.5707963267948966,r=e,a=1.5707963267948966-e,o=Math.sin(i),u=Math.sin(r),c=Math.sin(a),l=Math.cos(a),s=n/o;return U(l*(s*u),l*(s*c))},q=function(t,e){var n=t.width,i=t.height,r=W(n,e),a=W(i,e),o=U(t.x+Math.abs(r.x),t.y-Math.abs(r.y)),u=U(t.x+t.width+Math.abs(a.y),t.y+Math.abs(a.x)),c=U(t.x-Math.abs(a.y),t.y+t.height-Math.abs(a.x));return{width:j(o,u),height:j(o,c)}},H=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=t.height/t.width,r=1,a=e,o=1,u=i;u>a&&(o=(u=a)/i);var c=Math.max(r/o,a/u),l=t.width/(n*c*o);return{width:l,height:l*e}},Y=function(t,e,n,i){var r=i.x>.5?1-i.x:i.x,a=i.y>.5?1-i.y:i.y,o=2*r*t.width,u=2*a*t.height,c=q(e,n);return Math.max(c.width/o,c.height/u)},X=function(t,e){var n=t.width,i=n*e;return i>t.height&&(n=(i=t.height)/e),{x:.5*(t.width-n),y:.5*(t.height-i),width:n,height:i}},Z=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.zoom,i=e.rotation,r=e.center,a=e.aspectRatio;a||(a=t.height/t.width);var o=H(t,a,n),u={x:.5*o.width,y:.5*o.height},c={x:0,y:0,width:o.width,height:o.height,center:u},l="undefined"===typeof e.scaleToFit||e.scaleToFit,s=n*Y(t,X(c,a),i,l?r:{x:.5,y:.5});return{widthFloat:o.width/s,heightFloat:o.height/s,width:Math.round(o.width/s),height:Math.round(o.height/s)}},Q={type:"spring",stiffness:.5,damping:.45,mass:10},J=function(t){return t.utils.createView({name:"image-bitmap",ignoreRect:!0,mixins:{styles:["scaleX","scaleY"]},create:function(t){var e=t.root,n=t.props;e.appendChild(n.image)}})},K=function(t){return t.utils.createView({name:"image-canvas-wrapper",tag:"div",ignoreRect:!0,mixins:{apis:["crop","width","height"],styles:["originX","originY","translateX","translateY","scaleX","scaleY","rotateZ"],animations:{originX:Q,originY:Q,scaleX:Q,scaleY:Q,translateX:Q,translateY:Q,rotateZ:Q}},create:function(e){var n=e.root,i=e.props;i.width=i.image.width,i.height=i.image.height,n.ref.bitmap=n.appendChildView(n.createChildView(J(t),{image:i.image}))},write:function(t){var e=t.root,n=t.props.crop.flip,i=e.ref.bitmap;i.scaleX=n.horizontal?-1:1,i.scaleY=n.vertical?-1:1}})},$=function(t){return t.utils.createView({name:"image-clip",tag:"div",ignoreRect:!0,mixins:{apis:["crop","markup","resize","width","height","dirty","background"],styles:["width","height","opacity"],animations:{opacity:{type:"tween",duration:250}}},didWriteView:function(t){var e=t.root,n=t.props;n.background&&(e.element.style.backgroundColor=n.background)},create:function(e){var n=e.root,i=e.props;n.ref.image=n.appendChildView(n.createChildView(K(t),Object.assign({},i))),n.ref.createMarkup=function(){n.ref.markup||(n.ref.markup=n.appendChildView(n.createChildView(D(t),Object.assign({},i))))},n.ref.destroyMarkup=function(){n.ref.markup&&(n.removeChildView(n.ref.markup),n.ref.markup=null)};var r=n.query("GET_IMAGE_PREVIEW_TRANSPARENCY_INDICATOR");null!==r&&(n.element.dataset.transparencyIndicator="grid"===r?r:"color")},write:function(t){var e=t.root,n=t.props,i=t.shouldOptimize,r=n.crop,a=n.markup,o=n.resize,u=n.dirty,c=n.width,l=n.height;e.ref.image.crop=r;var s={x:0,y:0,width:c,height:l,center:{x:.5*c,y:.5*l}},f={width:e.ref.image.width,height:e.ref.image.height},h={x:r.center.x*f.width,y:r.center.y*f.height},d={x:s.center.x-f.width*r.center.x,y:s.center.y-f.height*r.center.y},p=2*Math.PI+r.rotation%(2*Math.PI),g=r.aspectRatio||f.height/f.width,m="undefined"===typeof r.scaleToFit||r.scaleToFit,y=Y(f,X(s,g),p,m?r.center:{x:.5,y:.5}),v=r.zoom*y;a&&a.length?(e.ref.createMarkup(),e.ref.markup.width=c,e.ref.markup.height=l,e.ref.markup.resize=o,e.ref.markup.dirty=u,e.ref.markup.markup=a,e.ref.markup.crop=Z(f,r)):e.ref.markup&&e.ref.destroyMarkup();var E=e.ref.image;if(i)return E.originX=null,E.originY=null,E.translateX=null,E.translateY=null,E.rotateZ=null,E.scaleX=null,void(E.scaleY=null);E.originX=h.x,E.originY=h.y,E.translateX=d.x,E.translateY=d.y,E.rotateZ=p,E.scaleX=v,E.scaleY=v}})},tt=function(t){return t.utils.createView({name:"image-preview",tag:"div",ignoreRect:!0,mixins:{apis:["image","crop","markup","resize","dirty","background"],styles:["translateY","scaleX","scaleY","opacity"],animations:{scaleX:Q,scaleY:Q,translateY:Q,opacity:{type:"tween",duration:400}}},create:function(e){var n=e.root,i=e.props;n.ref.clip=n.appendChildView(n.createChildView($(t),{id:i.id,image:i.image,crop:i.crop,markup:i.markup,resize:i.resize,dirty:i.dirty,background:i.background}))},write:function(t){var e=t.root,n=t.props,i=t.shouldOptimize,r=e.ref.clip,a=n.image,o=n.crop,u=n.markup,c=n.resize,l=n.dirty;if(r.crop=o,r.markup=u,r.resize=c,r.dirty=l,r.opacity=i?0:1,!i&&!e.rect.element.hidden){var s=a.height/a.width,f=o.aspectRatio||s,h=e.rect.inner.width,d=e.rect.inner.height,p=e.query("GET_IMAGE_PREVIEW_HEIGHT"),g=e.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),m=e.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),y=e.query("GET_PANEL_ASPECT_RATIO"),v=e.query("GET_ALLOW_MULTIPLE");y&&!v&&(p=h*y,f=y);var E=null!==p?p:Math.max(g,Math.min(h*f,m)),w=E/f;w>h&&(E=(w=h)*f),E>d&&(E=d,w=d/f),r.width=w,r.height=E}}})},et='<svg width="500" height="200" viewBox="0 0 500 200" preserveAspectRatio="none">\n    <defs>\n        <radialGradient id="gradient-__UID__" cx=".5" cy="1.25" r="1.15">\n            <stop offset=\'50%\' stop-color=\'#000000\'/>\n            <stop offset=\'56%\' stop-color=\'#0a0a0a\'/>\n            <stop offset=\'63%\' stop-color=\'#262626\'/>\n            <stop offset=\'69%\' stop-color=\'#4f4f4f\'/>\n            <stop offset=\'75%\' stop-color=\'#808080\'/>\n            <stop offset=\'81%\' stop-color=\'#b1b1b1\'/>\n            <stop offset=\'88%\' stop-color=\'#dadada\'/>\n            <stop offset=\'94%\' stop-color=\'#f6f6f6\'/>\n            <stop offset=\'100%\' stop-color=\'#ffffff\'/>\n        </radialGradient>\n        <mask id="mask-__UID__">\n            <rect x="0" y="0" width="500" height="200" fill="url(#gradient-__UID__)"></rect>\n        </mask>\n    </defs>\n    <rect x="0" width="500" height="200" fill="currentColor" mask="url(#mask-__UID__)"></rect>\n</svg>',nt=0,it=function(t){return t.utils.createView({name:"image-preview-overlay",tag:"div",ignoreRect:!0,create:function(t){var e=t.root,n=t.props,i=et;if(document.querySelector("base")){var r=new URL(window.location.href.replace(window.location.hash,"")).href;i=i.replace(/url\(\#/g,"url("+r+"#")}nt++,e.element.classList.add("filepond--image-preview-overlay-".concat(n.status)),e.element.innerHTML=i.replace(/__UID__/g,nt)},mixins:{styles:["opacity"],animations:{opacity:{type:"spring",mass:25}}}})},rt=function(){self.onmessage=function(t){createImageBitmap(t.data.message.file).then((function(e){self.postMessage({id:t.data.id,message:e},[e])}))}},at=function(){self.onmessage=function(t){for(var e=t.data.message.imageData,n=t.data.message.colorMatrix,i=e.data,r=i.length,a=n[0],o=n[1],u=n[2],c=n[3],l=n[4],s=n[5],f=n[6],h=n[7],d=n[8],p=n[9],g=n[10],m=n[11],y=n[12],v=n[13],E=n[14],w=n[15],_=n[16],A=n[17],T=n[18],I=n[19],x=0,M=0,R=0,b=0,O=0;x<r;x+=4)M=i[x]/255,R=i[x+1]/255,b=i[x+2]/255,O=i[x+3]/255,i[x]=Math.max(0,Math.min(255*(M*a+R*o+b*u+O*c+l),255)),i[x+1]=Math.max(0,Math.min(255*(M*s+R*f+b*h+O*d+p),255)),i[x+2]=Math.max(0,Math.min(255*(M*g+R*m+b*y+O*v+E),255)),i[x+3]=Math.max(0,Math.min(255*(M*w+R*_+b*A+O*T+I),255));self.postMessage({id:t.data.id,message:e},[e.data.buffer])}},ot=function(t,e){var n=new Image;n.onload=function(){var t=n.naturalWidth,i=n.naturalHeight;n=null,e(t,i)},n.src=t},ut={1:function(){return[1,0,0,1,0,0]},2:function(t){return[-1,0,0,1,t,0]},3:function(t,e){return[-1,0,0,-1,t,e]},4:function(t,e){return[1,0,0,-1,0,e]},5:function(){return[0,1,1,0,0,0]},6:function(t,e){return[0,1,-1,0,e,0]},7:function(t,e){return[0,-1,-1,0,e,t]},8:function(t){return[0,-1,1,0,0,t]}},ct=function(t,e,n,i){-1!==i&&t.transform.apply(t,ut[i](e,n))},lt=function(t,e,n,i){e=Math.round(e),n=Math.round(n);var r=document.createElement("canvas");r.width=e,r.height=n;var a=r.getContext("2d");if(i>=5&&i<=8){var o=[n,e];e=o[0],n=o[1]}return ct(a,e,n,i),a.drawImage(t,0,0,e,n),r},st=function(t){return/^image/.test(t.type)&&!/svg/.test(t.type)},ft=10,ht=10,dt=function(t){var e=Math.min(ft/t.width,ht/t.height),n=document.createElement("canvas"),i=n.getContext("2d"),r=n.width=Math.ceil(t.width*e),a=n.height=Math.ceil(t.height*e);i.drawImage(t,0,0,r,a);var o=null;try{o=i.getImageData(0,0,r,a).data}catch(h){return null}for(var u=o.length,c=0,l=0,s=0,f=0;f<u;f+=4)c+=o[f]*o[f],l+=o[f+1]*o[f+1],s+=o[f+2]*o[f+2];return{r:c=pt(c,u),g:l=pt(l,u),b:s=pt(s,u)}},pt=function(t,e){return Math.floor(Math.sqrt(t/(e/4)))},gt=function(t,e){return(e=e||document.createElement("canvas")).width=t.width,e.height=t.height,e.getContext("2d").drawImage(t,0,0),e},mt=function(t){var e;try{e=new ImageData(t.width,t.height)}catch(n){e=document.createElement("canvas").getContext("2d").createImageData(t.width,t.height)}return e.data.set(new Uint8ClampedArray(t.data)),e},yt=function(t){return new Promise((function(e,n){var i=new Image;i.crossOrigin="Anonymous",i.onload=function(){e(i)},i.onerror=function(t){n(t)},i.src=t}))},vt=function(t){var e=it(t),n=tt(t),i=t.utils.createWorker,r=function(t,e,n){return new Promise((function(r){t.ref.imageData||(t.ref.imageData=n.getContext("2d").getImageData(0,0,n.width,n.height));var a=mt(t.ref.imageData);if(!e||20!==e.length)return n.getContext("2d").putImageData(a,0,0),r();var o=i(at);o.post({imageData:a,colorMatrix:e},(function(t){n.getContext("2d").putImageData(t,0,0),o.terminate(),r()}),[a.data.buffer])}))},a=function(t,e){t.removeChildView(e),e.image.width=1,e.image.height=1,e._destroy()},o=function(t){var e=t.root,n=e.ref.images.shift();return n.opacity=0,n.translateY=-15,e.ref.imageViewBin.push(n),n},u=function(t){var e=t.root,i=t.props,r=t.image,a=i.id,o=e.query("GET_ITEM",{id:a});if(o){var u,c,l=o.getMetadata("crop")||{center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},zoom:1,rotation:0,aspectRatio:null},s=e.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR"),f=!1;e.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(u=o.getMetadata("markup")||[],c=o.getMetadata("resize"),f=!0);var h=e.appendChildView(e.createChildView(n,{id:a,image:r,crop:l,resize:c,markup:u,dirty:f,background:s,opacity:0,scaleX:1.15,scaleY:1.15,translateY:15}),e.childViews.length);e.ref.images.push(h),h.opacity=1,h.scaleX=1,h.scaleY=1,h.translateY=0,setTimeout((function(){e.dispatch("DID_IMAGE_PREVIEW_SHOW",{id:a})}),250)}},c=function(t){var e=t.root,n=t.props,i=e.query("GET_ITEM",{id:n.id});if(i){var r=e.ref.images[e.ref.images.length-1];r.crop=i.getMetadata("crop"),r.background=e.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR"),e.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(r.dirty=!0,r.resize=i.getMetadata("resize"),r.markup=i.getMetadata("markup"))}},l=function(t){var e=t.root,n=t.props,i=t.action;if(/crop|filter|markup|resize/.test(i.change.key)&&e.ref.images.length){var a=e.query("GET_ITEM",{id:n.id});if(a)if(/filter/.test(i.change.key)){var l=e.ref.images[e.ref.images.length-1];r(e,i.change.value,l.image)}else if(/crop|markup|resize/.test(i.change.key)){var s=a.getMetadata("crop"),f=e.ref.images[e.ref.images.length-1];if(s&&s.aspectRatio&&f.crop&&f.crop.aspectRatio&&Math.abs(s.aspectRatio-f.crop.aspectRatio)>1e-5){var h=o({root:e});u({root:e,props:n,image:gt(h.image)})}else c({root:e,props:n})}}},s=function(t){var e=window.navigator.userAgent.match(/Firefox\/([0-9]+)\./);return!((e?parseInt(e[1]):null)<=58)&&"createImageBitmap"in window&&st(t)},f=function(t){var e=t.root,n=t.props.id,i=e.query("GET_ITEM",n);if(i){var r=URL.createObjectURL(i.file);ot(r,(function(t,i){e.dispatch("DID_IMAGE_PREVIEW_CALCULATE_SIZE",{id:n,width:t,height:i})}))}},h=function(t){var e=t.root,n=t.props,a=n.id,o=e.query("GET_ITEM",a);if(o){var c=URL.createObjectURL(o.file),l=function(){yt(c).then(f)},f=function(t){URL.revokeObjectURL(c);var i=(o.getMetadata("exif")||{}).orientation||-1,a=t.width,l=t.height;if(a&&l){if(i>=5&&i<=8){var s=[l,a];a=s[0],l=s[1]}var f=Math.max(1,.75*window.devicePixelRatio),h=e.query("GET_IMAGE_PREVIEW_ZOOM_FACTOR")*f,d=l/a,p=e.rect.element.width,g=e.rect.element.height,m=p,y=m*d;d>1?y=(m=Math.min(a,p*h))*d:m=(y=Math.min(l,g*h))/d;var v=lt(t,m,y,i),E=function(){var i=e.query("GET_IMAGE_PREVIEW_CALCULATE_AVERAGE_IMAGE_COLOR")?dt(data):null;o.setMetadata("color",i,!0),"close"in t&&t.close(),e.ref.overlayShadow.opacity=1,u({root:e,props:n,image:v})},w=o.getMetadata("filter");w?r(e,w,v).then(E):E()}};if(s(o.file)){var h=i(rt);h.post({file:o.file},(function(t){h.terminate(),t?f(t):l()}))}else l()}},d=function(t){var e=t.root,n=e.ref.images[e.ref.images.length-1];n.translateY=0,n.scaleX=1,n.scaleY=1,n.opacity=1},p=function(t){var e=t.root;e.ref.overlayShadow.opacity=1,e.ref.overlayError.opacity=0,e.ref.overlaySuccess.opacity=0},g=function(t){var e=t.root;e.ref.overlayShadow.opacity=.25,e.ref.overlayError.opacity=1},m=function(t){var e=t.root;e.ref.overlayShadow.opacity=.25,e.ref.overlaySuccess.opacity=1},y=function(t){var n=t.root;n.ref.images=[],n.ref.imageData=null,n.ref.imageViewBin=[],n.ref.overlayShadow=n.appendChildView(n.createChildView(e,{opacity:0,status:"idle"})),n.ref.overlaySuccess=n.appendChildView(n.createChildView(e,{opacity:0,status:"success"})),n.ref.overlayError=n.appendChildView(n.createChildView(e,{opacity:0,status:"failure"}))};return t.utils.createView({name:"image-preview-wrapper",create:y,styles:["height"],apis:["height"],destroy:function(t){t.root.ref.images.forEach((function(t){t.image.width=1,t.image.height=1}))},didWriteView:function(t){t.root.ref.images.forEach((function(t){t.dirty=!1}))},write:t.utils.createRoute({DID_IMAGE_PREVIEW_DRAW:d,DID_IMAGE_PREVIEW_CONTAINER_CREATE:f,DID_FINISH_CALCULATE_PREVIEWSIZE:h,DID_UPDATE_ITEM_METADATA:l,DID_THROW_ITEM_LOAD_ERROR:g,DID_THROW_ITEM_PROCESSING_ERROR:g,DID_THROW_ITEM_INVALID:g,DID_COMPLETE_ITEM_PROCESSING:m,DID_START_ITEM_PROCESSING:p,DID_REVERT_ITEM_PROCESSING:p},(function(t){var e=t.root,n=e.ref.imageViewBin.filter((function(t){return 0===t.opacity}));e.ref.imageViewBin=e.ref.imageViewBin.filter((function(t){return t.opacity>0})),n.forEach((function(t){return a(e,t)})),n.length=0}))})},Et=function(e){var n=e.addFilter,i=e.utils,r=i.Type,a=i.createRoute,o=i.isFile,u=vt(e);return n("CREATE_VIEW",(function(e){var n=e.is,i=e.view,r=e.query;if(n("file")&&r("GET_ALLOW_IMAGE_PREVIEW")){var c=function(e){var n=e.root,a=e.props.id,c=r("GET_ITEM",a);if(c&&o(c.file)&&!c.archived){var l=c.file;if(t(l)&&r("GET_IMAGE_PREVIEW_FILTER_ITEM")(c)){var s="createImageBitmap"in(window||{}),f=r("GET_IMAGE_PREVIEW_MAX_FILE_SIZE");if(!(!s&&f&&l.size>f)){n.ref.imagePreview=i.appendChildView(i.createChildView(u,{id:a}));var h=n.query("GET_IMAGE_PREVIEW_HEIGHT");h&&n.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:c.id,height:h});var d=!s&&l.size>r("GET_IMAGE_PREVIEW_MAX_INSTANT_PREVIEW_FILE_SIZE");n.dispatch("DID_IMAGE_PREVIEW_CONTAINER_CREATE",{id:a},d)}}}},l=function(t,e){if(t.ref.imagePreview){var n=e.id,i=t.query("GET_ITEM",{id:n});if(i){var r=t.query("GET_PANEL_ASPECT_RATIO"),a=t.query("GET_ITEM_PANEL_ASPECT_RATIO"),o=t.query("GET_IMAGE_PREVIEW_HEIGHT");if(!(r||a||o)){var u=t.ref,c=u.imageWidth,l=u.imageHeight;if(c&&l){var s=t.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),f=t.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),h=(i.getMetadata("exif")||{}).orientation||-1;if(h>=5&&h<=8){var d=[l,c];c=d[0],l=d[1]}if(!st(i.file)||t.query("GET_IMAGE_PREVIEW_UPSCALE")){var p=2048/c;c*=p,l*=p}var g=l/c,m=(i.getMetadata("crop")||{}).aspectRatio||g,y=Math.max(s,Math.min(l,f)),v=t.rect.element.width,E=Math.min(v*m,y);t.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:i.id,height:E})}}}}},s=function(t){t.root.ref.shouldRescale=!0},f=function(t){var e=t.root;"crop"===t.action.change.key&&(e.ref.shouldRescale=!0)},h=function(t){var e=t.root,n=t.action;e.ref.imageWidth=n.width,e.ref.imageHeight=n.height,e.ref.shouldRescale=!0,e.ref.shouldDrawPreview=!0,e.dispatch("KICK")};i.registerWriter(a({DID_RESIZE_ROOT:s,DID_STOP_RESIZE:s,DID_LOAD_ITEM:c,DID_IMAGE_PREVIEW_CALCULATE_SIZE:h,DID_UPDATE_ITEM_METADATA:f},(function(t){var e=t.root,n=t.props;e.ref.imagePreview&&(e.rect.element.hidden||(e.ref.shouldRescale&&(l(e,n),e.ref.shouldRescale=!1),e.ref.shouldDrawPreview&&(requestAnimationFrame((function(){requestAnimationFrame((function(){e.dispatch("DID_FINISH_CALCULATE_PREVIEWSIZE",{id:n.id})}))})),e.ref.shouldDrawPreview=!1)))})))}})),{options:{allowImagePreview:[!0,r.BOOLEAN],imagePreviewFilterItem:[function(){return!0},r.FUNCTION],imagePreviewHeight:[null,r.INT],imagePreviewMinHeight:[44,r.INT],imagePreviewMaxHeight:[256,r.INT],imagePreviewMaxFileSize:[null,r.INT],imagePreviewZoomFactor:[2,r.INT],imagePreviewUpscale:[!1,r.BOOLEAN],imagePreviewMaxInstantPreviewFileSize:[1e6,r.INT],imagePreviewTransparencyIndicator:[null,r.STRING],imagePreviewCalculateAverageImageColor:[!1,r.BOOLEAN],imagePreviewMarkupShow:[!0,r.BOOLEAN],imagePreviewMarkupFilter:[function(){return!0},r.FUNCTION]}}};return"undefined"!==typeof window&&"undefined"!==typeof window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:Et})),Et}()},63567:function(t){t.exports=function(){"use strict";var t=function(t){return/^image/.test(t.type)},e=function(t,e){var n=new Image;n.onload=function(){var t=n.naturalWidth,i=n.naturalHeight;n=null,e({width:t,height:i})},n.onerror=function(){return e(null)},n.src=t},n=function(n){var i=n.addFilter,r=n.utils.Type;return i("DID_LOAD_ITEM",(function(n,i){var r=i.query;return new Promise((function(i,a){var o=n.file;if(!t(o)||!r("GET_ALLOW_IMAGE_RESIZE"))return i(n);var u=r("GET_IMAGE_RESIZE_MODE"),c=r("GET_IMAGE_RESIZE_TARGET_WIDTH"),l=r("GET_IMAGE_RESIZE_TARGET_HEIGHT"),s=r("GET_IMAGE_RESIZE_UPSCALE");if(null===c&&null===l)return i(n);var f=null===c?l:c,h=null===l?f:l,d=URL.createObjectURL(o);e(d,(function(t){if(URL.revokeObjectURL(d),!t)return i(n);var e=t.width,r=t.height,a=(n.getMetadata("exif")||{}).orientation||-1;if(a>=5&&a<=8){var o=[r,e];e=o[0],r=o[1]}if(e===f&&r===h)return i(n);if(!s)if("cover"===u){if(e<=f||r<=h)return i(n)}else if(e<=f&&r<=f)return i(n);n.setMetadata("resize",{mode:u,upscale:s,size:{width:f,height:h}}),i(n)}))}))})),{options:{allowImageResize:[!0,r.BOOLEAN],imageResizeMode:["cover",r.STRING],imageResizeUpscale:[!0,r.BOOLEAN],imageResizeTargetWidth:[null,r.INT],imageResizeTargetHeight:[null,r.INT]}}};return"undefined"!==typeof window&&"undefined"!==typeof window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:n})),n}()},53863:function(t){t.exports=function(){"use strict";var t=function(t){return/^image/.test(t.type)},e=function(t){return t.substr(0,t.lastIndexOf("."))||t},n={jpeg:"jpg","svg+xml":"svg"},i=function(t,i){var r=e(t),a=i.split("/")[1],o=n[a]||a;return"".concat(r,".").concat(o)},r=function(t){return/jpeg|png|svg\+xml/.test(t)?t:"image/jpeg"},a=function(t){return/^image/.test(t.type)},o={1:function(){return[1,0,0,1,0,0]},2:function(t){return[-1,0,0,1,t,0]},3:function(t,e){return[-1,0,0,-1,t,e]},4:function(t,e){return[1,0,0,-1,0,e]},5:function(){return[0,1,1,0,0,0]},6:function(t,e){return[0,1,-1,0,e,0]},7:function(t,e){return[0,-1,-1,0,e,t]},8:function(t){return[0,-1,1,0,0,t]}},u=function(t,e,n){return-1===n&&(n=1),o[n](t,e)},c=function(t,e){return{x:t,y:e}},l=function(t,e){return t.x*e.x+t.y*e.y},s=function(t,e){return c(t.x-e.x,t.y-e.y)},f=function(t,e){return l(s(t,e),s(t,e))},h=function(t,e){return Math.sqrt(f(t,e))},d=function(t,e){var n=t,i=1.5707963267948966,r=e,a=1.5707963267948966-e,o=Math.sin(i),u=Math.sin(r),l=Math.sin(a),s=Math.cos(a),f=n/o;return c(s*(f*u),s*(f*l))},p=function(t,e){var n=t.width,i=t.height,r=d(n,e),a=d(i,e),o=c(t.x+Math.abs(r.x),t.y-Math.abs(r.y)),u=c(t.x+t.width+Math.abs(a.y),t.y+Math.abs(a.x)),l=c(t.x-Math.abs(a.y),t.y+t.height-Math.abs(a.x));return{width:h(o,u),height:h(o,l)}},g=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{x:.5,y:.5},r=i.x>.5?1-i.x:i.x,a=i.y>.5?1-i.y:i.y,o=2*r*t.width,u=2*a*t.height,c=p(e,n);return Math.max(c.width/o,c.height/u)},m=function(t,e){var n=t.width,i=n*e;return i>t.height&&(n=(i=t.height)/e),{x:.5*(t.width-n),y:.5*(t.height-i),width:n,height:i}},y=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=t.height/t.width,r=1,a=e,o=1,u=i;u>a&&(o=(u=a)/i);var c=Math.max(r/o,a/u),l=t.width/(n*c*o);return{width:l,height:l*e}},v=function(t){t.width=1,t.height=1,t.getContext("2d").clearRect(0,0,1,1)},E=function(t){return t&&(t.horizontal||t.vertical)},w=function(t,e,n){if(e<=1&&!E(n))return t.width=t.naturalWidth,t.height=t.naturalHeight,t;var i=document.createElement("canvas"),r=t.naturalWidth,a=t.naturalHeight,o=e>=5&&e<=8;o?(i.width=a,i.height=r):(i.width=r,i.height=a);var c=i.getContext("2d");if(e&&c.transform.apply(c,u(r,a,e)),E(n)){var l=[1,0,0,1,0,0];(!o&&n.horizontal||o&n.vertical)&&(l[0]=-1,l[4]=r),(!o&&n.vertical||o&&n.horizontal)&&(l[3]=-1,l[5]=a),c.transform.apply(c,l)}return c.drawImage(t,0,0,r,a),i},_=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=i.canvasMemoryLimit,a=i.background,o=void 0===a?null:a,u=n.zoom||1,c=w(t,e,n.flip),l={width:c.width,height:c.height},s=n.aspectRatio||l.height/l.width,f=y(l,s,u);if(r){var h=f.width*f.height;if(h>r){var d=Math.sqrt(r)/Math.sqrt(h);l.width=Math.floor(l.width*d),l.height=Math.floor(l.height*d),f=y(l,s,u)}}var p=document.createElement("canvas"),E={x:.5*f.width,y:.5*f.height},_={x:0,y:0,width:f.width,height:f.height,center:E},A="undefined"===typeof n.scaleToFit||n.scaleToFit,T=u*g(l,m(_,s),n.rotation,A?n.center:{x:.5,y:.5});p.width=Math.round(f.width/T),p.height=Math.round(f.height/T),E.x/=T,E.y/=T;var I={x:E.x-l.width*(n.center?n.center.x:.5),y:E.y-l.height*(n.center?n.center.y:.5)},x=p.getContext("2d");o&&(x.fillStyle=o,x.fillRect(0,0,p.width,p.height)),x.translate(E.x,E.y),x.rotate(n.rotation||0),x.drawImage(c,I.x-E.x,I.y-E.y,l.width,l.height);var M=x.getImageData(0,0,p.width,p.height);return v(p),M};"undefined"!==typeof window&&"undefined"!==typeof window.document&&(HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(t,e,n){var i=this.toDataURL(e,n).split(",")[1];setTimeout((function(){for(var n=atob(i),r=n.length,a=new Uint8Array(r),o=0;o<r;o++)a[o]=n.charCodeAt(o);t(new Blob([a],{type:e||"image/png"}))}))}}));var A=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new Promise((function(i){var r=n?n(t):t;Promise.resolve(r).then((function(t){t.toBlob(i,e.type,e.quality)}))}))},T=function(t,e){return R(t.x*e,t.y*e)},I=function(t,e){return R(t.x+e.x,t.y+e.y)},x=function(t){var e=Math.sqrt(t.x*t.x+t.y*t.y);return 0===e?{x:0,y:0}:R(t.x/e,t.y/e)},M=function(t,e,n){var i=Math.cos(e),r=Math.sin(e),a=R(t.x-n.x,t.y-n.y);return R(n.x+i*a.x-r*a.y,n.y+r*a.x+i*a.y)},R=function(){return{x:arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,y:arguments.length>1&&void 0!==arguments[1]?arguments[1]:0}},b=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0;return"string"===typeof t?parseFloat(t)*n:"number"===typeof t?t*(i?e[i]:Math.min(e.width,e.height)):void 0},O=function(t,e,n){var i=t.borderStyle||t.lineStyle||"solid",r=t.backgroundColor||t.fontColor||"transparent",a=t.borderColor||t.lineColor||"transparent",o=b(t.borderWidth||t.lineWidth,e,n);return{"stroke-linecap":t.lineCap||"round","stroke-linejoin":t.lineJoin||"round","stroke-width":o||0,"stroke-dasharray":"string"===typeof i?"":i.map((function(t){return b(t,e,n)})).join(","),stroke:a,fill:r,opacity:t.opacity||1}},L=function(t){return null!=t},S=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=b(t.x,e,n,"width")||b(t.left,e,n,"width"),r=b(t.y,e,n,"height")||b(t.top,e,n,"height"),a=b(t.width,e,n,"width"),o=b(t.height,e,n,"height"),u=b(t.right,e,n,"width"),c=b(t.bottom,e,n,"height");return L(r)||(r=L(o)&&L(c)?e.height-o-c:c),L(i)||(i=L(a)&&L(u)?e.width-a-u:u),L(a)||(a=L(i)&&L(u)?e.width-i-u:0),L(o)||(o=L(r)&&L(c)?e.height-r-c:0),{x:i||0,y:r||0,width:a||0,height:o||0}},P=function(t){return t.map((function(t,e){return"".concat(0===e?"M":"L"," ").concat(t.x," ").concat(t.y)})).join(" ")},G=function(t,e){return Object.keys(e).forEach((function(n){return t.setAttribute(n,e[n])}))},C="http://www.w3.org/2000/svg",F=function(t,e){var n=document.createElementNS(C,t);return e&&G(n,e),n},N=function(t){return G(t,Object.assign({},t.rect,t.styles))},k=function(t){var e=t.rect.x+.5*t.rect.width,n=t.rect.y+.5*t.rect.height,i=.5*t.rect.width,r=.5*t.rect.height;return G(t,Object.assign({cx:e,cy:n,rx:i,ry:r},t.styles))},D={contain:"xMidYMid meet",cover:"xMidYMid slice"},U=function(t,e){G(t,Object.assign({},t.rect,t.styles,{preserveAspectRatio:D[e.fit]||"none"}))},z={left:"start",center:"middle",right:"end"},V=function(t,e,n,i){var r=b(e.fontSize,n,i),a=e.fontFamily||"sans-serif",o=e.fontWeight||"normal",u=z[e.textAlign]||"start";G(t,Object.assign({},t.rect,t.styles,{"stroke-width":0,"font-weight":o,"font-size":r,"font-family":a,"text-anchor":u})),t.text!==e.text&&(t.text=e.text,t.textContent=e.text.length?e.text:" ")},B=function(t,e,n,i){G(t,Object.assign({},t.rect,t.styles,{fill:"none"}));var r=t.childNodes[0],a=t.childNodes[1],o=t.childNodes[2],u=t.rect,c={x:t.rect.x+t.rect.width,y:t.rect.y+t.rect.height};if(G(r,{x1:u.x,y1:u.y,x2:c.x,y2:c.y}),e.lineDecoration){a.style.display="none",o.style.display="none";var l=x({x:c.x-u.x,y:c.y-u.y}),s=b(.05,n,i);if(-1!==e.lineDecoration.indexOf("arrow-begin")){var f=T(l,s),h=I(u,f),d=M(u,2,h),p=M(u,-2,h);G(a,{style:"display:block;",d:"M".concat(d.x,",").concat(d.y," L").concat(u.x,",").concat(u.y," L").concat(p.x,",").concat(p.y)})}if(-1!==e.lineDecoration.indexOf("arrow-end")){var g=T(l,-s),m=I(c,g),y=M(c,2,m),v=M(c,-2,m);G(o,{style:"display:block;",d:"M".concat(y.x,",").concat(y.y," L").concat(c.x,",").concat(c.y," L").concat(v.x,",").concat(v.y)})}}},j=function(t,e,n,i){G(t,Object.assign({},t.styles,{fill:"none",d:P(e.points.map((function(t){return{x:b(t.x,n,i,"width"),y:b(t.y,n,i,"height")}})))}))},W=function(t){return function(e){return F(t,{id:e.id})}},q=function(t){var e=F("g",{id:t.id,"stroke-linecap":"round","stroke-linejoin":"round"}),n=F("line");e.appendChild(n);var i=F("path");e.appendChild(i);var r=F("path");return e.appendChild(r),e},H={image:function(t){var e=F("image",{id:t.id,"stroke-linecap":"round","stroke-linejoin":"round",opacity:"0"});return e.onload=function(){e.setAttribute("opacity",t.opacity||1)},e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t.src),e},rect:W("rect"),ellipse:W("ellipse"),text:W("text"),path:W("path"),line:q},Y={rect:N,ellipse:k,image:U,text:V,path:j,line:B},X=function(t,e){return H[t](e)},Z=function(t,e,n,i,r){"path"!==e&&(t.rect=S(n,i,r)),t.styles=O(n,i,r),Y[e](t,n,i,r)},Q=function(t,e){return t[1].zIndex>e[1].zIndex?1:t[1].zIndex<e[1].zIndex?-1:0},J=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;return new Promise((function(r){var a=i.background,o=void 0===a?null:a,u=new FileReader;u.onloadend=function(){var t=u.result,i=document.createElement("div");i.style.cssText="position:absolute;pointer-events:none;width:0;height:0;visibility:hidden;",i.innerHTML=t;var a=i.querySelector("svg");document.body.appendChild(i);var c=a.getBBox();i.parentNode.removeChild(i);var l=i.querySelector("title"),s=a.getAttribute("viewBox")||"",f=a.getAttribute("width")||"",h=a.getAttribute("height")||"",d=parseFloat(f)||null,p=parseFloat(h)||null,y=(f.match(/[a-z]+/)||[])[0]||"",v=(h.match(/[a-z]+/)||[])[0]||"",E=s.split(" ").map(parseFloat),w=E.length?{x:E[0],y:E[1],width:E[2],height:E[3]}:c,_=null!=d?d:w.width,A=null!=p?p:w.height;a.style.overflow="visible",a.setAttribute("width",_),a.setAttribute("height",A);var T="";if(n&&n.length){var I={width:_,height:A};T=n.sort(Q).reduce((function(t,e){var n=X(e[0],e[1]);return Z(n,e[0],e[1],I),n.removeAttribute("id"),1===n.getAttribute("opacity")&&n.removeAttribute("opacity"),t+"\n"+n.outerHTML+"\n"}),""),T="\n\n<g>".concat(T.replace(/&nbsp;/g," "),"</g>\n\n")}var x=e.aspectRatio||A/_,M=_,R=M*x,b="undefined"===typeof e.scaleToFit||e.scaleToFit,O=e.center?e.center.x:.5,L=e.center?e.center.y:.5,S=g({width:_,height:A},m({width:M,height:R},x),e.rotation,b?{x:O,y:L}:{x:.5,y:.5}),P=e.zoom*S,G=e.rotation*(180/Math.PI),C={x:.5*M,y:.5*R},F={x:C.x-_*O,y:C.y-A*L},N=["rotate(".concat(G," ").concat(C.x," ").concat(C.y,")"),"translate(".concat(C.x," ").concat(C.y,")"),"scale(".concat(P,")"),"translate(".concat(-C.x," ").concat(-C.y,")"),"translate(".concat(F.x," ").concat(F.y,")")],k=e.flip&&e.flip.horizontal,D=e.flip&&e.flip.vertical,U=["scale(".concat(k?-1:1," ").concat(D?-1:1,")"),"translate(".concat(k?-_:0," ").concat(D?-A:0,")")],z='<?xml version="1.0" encoding="UTF-8"?>\n<svg width="'.concat(M).concat(y,'" height="').concat(R).concat(v,'" \nviewBox="0 0 ').concat(M," ").concat(R,'" ').concat(o?'style="background:'+o+'" ':"",'\npreserveAspectRatio="xMinYMin"\nxmlns:xlink="http://www.w3.org/1999/xlink"\nxmlns="http://www.w3.org/2000/svg">\n\x3c!-- Generated by PQINA - https://pqina.nl/ --\x3e\n<title>').concat(l?l.textContent:"",'</title>\n<g transform="').concat(N.join(" "),'">\n<g transform="').concat(U.join(" "),'">\n').concat(a.outerHTML).concat(T,"\n</g>\n</g>\n</svg>");r(z)},u.readAsText(t)}))},K=function(t){var e;try{e=new ImageData(t.width,t.height)}catch(n){e=document.createElement("canvas").getContext("2d").createImageData(t.width,t.height)}return e.data.set(t.data),e},$=function(){var t={resize:s,filter:l},e=function(e,n){return e.forEach((function(e){n=t[e.type](n,e.data)})),n},n=function(t,n){var i=t.transforms,r=null;if(i.forEach((function(t){"filter"===t.type&&(r=t)})),r){var a=null;i.forEach((function(t){"resize"===t.type&&(a=t)})),a&&(a.data.matrix=r.data,i=i.filter((function(t){return"filter"!==t.type})))}n(e(i,t.imageData))};self.onmessage=function(t){n(t.data.message,(function(e){self.postMessage({id:t.data.id,message:e},[e.data.buffer])}))};var i=1,r=1,a=1;function o(t,e,n){var o=e[t]/255,u=e[t+1]/255,c=e[t+2]/255,l=e[t+3]/255,s=o*n[0]+u*n[1]+c*n[2]+l*n[3]+n[4],f=o*n[5]+u*n[6]+c*n[7]+l*n[8]+n[9],h=o*n[10]+u*n[11]+c*n[12]+l*n[13]+n[14],d=o*n[15]+u*n[16]+c*n[17]+l*n[18]+n[19],p=Math.max(0,s*d)+i*(1-d),g=Math.max(0,f*d)+r*(1-d),m=Math.max(0,h*d)+a*(1-d);e[t]=255*Math.max(0,Math.min(1,p)),e[t+1]=255*Math.max(0,Math.min(1,g)),e[t+2]=255*Math.max(0,Math.min(1,m))}var u=self.JSON.stringify([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]);function c(t){return self.JSON.stringify(t||[])===u}function l(t,e){if(!e||c(e))return t;for(var n=t.data,o=n.length,u=e[0],l=e[1],s=e[2],f=e[3],h=e[4],d=e[5],p=e[6],g=e[7],m=e[8],y=e[9],v=e[10],E=e[11],w=e[12],_=e[13],A=e[14],T=e[15],I=e[16],x=e[17],M=e[18],R=e[19],b=0,O=0,L=0,S=0,P=0,G=0,C=0,F=0,N=0,k=0,D=0,U=0;b<o;b+=4)G=(O=n[b]/255)*u+(L=n[b+1]/255)*l+(S=n[b+2]/255)*s+(P=n[b+3]/255)*f+h,C=O*d+L*p+S*g+P*m+y,F=O*v+L*E+S*w+P*_+A,N=O*T+L*I+S*x+P*M+R,k=Math.max(0,G*N)+i*(1-N),D=Math.max(0,C*N)+r*(1-N),U=Math.max(0,F*N)+a*(1-N),n[b]=255*Math.max(0,Math.min(1,k)),n[b+1]=255*Math.max(0,Math.min(1,D)),n[b+2]=255*Math.max(0,Math.min(1,U));return t}function s(t,e){var n=e.mode,i=void 0===n?"contain":n,r=e.upscale,a=void 0!==r&&r,u=e.width,s=e.height,f=e.matrix;if(f=!f||c(f)?null:f,!u&&!s)return l(t,f);if(null===u?u=s:null===s&&(s=u),"force"!==i){var h=u/t.width,d=s/t.height,p=1;if("cover"===i?p=Math.max(h,d):"contain"===i&&(p=Math.min(h,d)),p>1&&!1===a)return l(t,f);u=t.width*p,s=t.height*p}for(var g=t.width,m=t.height,y=Math.round(u),v=Math.round(s),E=t.data,w=new Uint8ClampedArray(y*v*4),_=g/y,A=m/v,T=Math.ceil(.5*_),I=Math.ceil(.5*A),x=0;x<v;x++)for(var M=0;M<y;M++){for(var R=4*(M+x*y),b=0,O=0,L=0,S=0,P=0,G=0,C=0,F=(x+.5)*A,N=Math.floor(x*A);N<(x+1)*A;N++)for(var k=Math.abs(F-(N+.5))/I,D=(M+.5)*_,U=k*k,z=Math.floor(M*_);z<(M+1)*_;z++){var V=Math.abs(D-(z+.5))/T,B=Math.sqrt(U+V*V);if(B>=-1&&B<=1&&(b=2*B*B*B-3*B*B+1)>0){var j=E[3+(V=4*(z+N*g))];C+=b*j,L+=b,j<255&&(b=b*j/250),S+=b*E[V],P+=b*E[V+1],G+=b*E[V+2],O+=b}}w[R]=S/O,w[R+1]=P/O,w[R+2]=G/O,w[R+3]=C/L,f&&o(R,w,f)}return{data:w,width:y,height:v}}},tt=function(t,e){if(1165519206===t.getUint32(e+4,!1)){e+=4;var n=18761===t.getUint16(e+=6,!1);e+=t.getUint32(e+4,n);var i=t.getUint16(e,n);e+=2;for(var r=0;r<i;r++)if(274===t.getUint16(e+12*r,n))return t.setUint16(e+12*r+8,1,n),!0;return!1}},et=function(t){var e=new DataView(t);if(65496!==e.getUint16(0))return null;for(var n,i,r=2,a=!1;r<e.byteLength&&(n=e.getUint16(r,!1),i=e.getUint16(r+2,!1)+2,n>=65504&&n<=65519||65534===n)&&(a||(a=tt(e,r,i)),!(r+i>e.byteLength));)r+=i;return t.slice(0,r)},nt=function(t){return new Promise((function(e){var n=new FileReader;n.onload=function(){return e(et(n.result)||null)},n.readAsArrayBuffer(t.slice(0,262144))}))},it=function(){return window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder},rt=function(t,e){var n=it();if(n){var i=new n;return i.append(t),i.getBlob(e)}return new Blob([t],{type:e})},at=function(){return Math.random().toString(36).substr(2,9)},ot=function(t){var e=new Blob(["(",t.toString(),")()"],{type:"application/javascript"}),n=URL.createObjectURL(e),i=new Worker(n),r=[];return{transfer:function(){},post:function(t,e,n){var a=at();r[a]=e,i.onmessage=function(t){var e=r[t.data.id];e&&(e(t.data.message),delete r[t.data.id])},i.postMessage({id:a,message:t},n)},terminate:function(){i.terminate(),URL.revokeObjectURL(n)}}},ut=function(t){return new Promise((function(e,n){var i=new Image;i.onload=function(){e(i)},i.onerror=function(t){n(t)},i.src=t}))},ct=function(t){return t.reduce((function(t,e){return t.then((function(t){return e().then(Array.prototype.concat.bind(t))}))}),Promise.resolve([]))},lt=function(t,e){return new Promise((function(n){var i={width:t.width,height:t.height},r=t.getContext("2d"),a=e.sort(Q).map((function(t){return function(){return new Promise((function(e){ht[t[0]](r,i,t[1],e)&&e()}))}}));ct(a).then((function(){return n(t)}))}))},st=function(t,e){t.beginPath(),t.lineCap=e["stroke-linecap"],t.lineJoin=e["stroke-linejoin"],t.lineWidth=e["stroke-width"],e["stroke-dasharray"].length&&t.setLineDash(e["stroke-dasharray"].split(",")),t.fillStyle=e.fill,t.strokeStyle=e.stroke,t.globalAlpha=e.opacity||1},ft=function(t){t.fill(),t.stroke(),t.globalAlpha=1},ht={rect:function(t,e,n){var i=S(n,e),r=O(n,e);return st(t,r),t.rect(i.x,i.y,i.width,i.height),ft(t,r),!0},ellipse:function(t,e,n){var i=S(n,e),r=O(n,e);st(t,r);var a=i.x,o=i.y,u=i.width,c=i.height,l=.5522848,s=u/2*l,f=c/2*l,h=a+u,d=o+c,p=a+u/2,g=o+c/2;return t.moveTo(a,g),t.bezierCurveTo(a,g-f,p-s,o,p,o),t.bezierCurveTo(p+s,o,h,g-f,h,g),t.bezierCurveTo(h,g+f,p+s,d,p,d),t.bezierCurveTo(p-s,d,a,g+f,a,g),ft(t,r),!0},image:function(t,e,n,i){var r=S(n,e),a=O(n,e);st(t,a);var o=new Image;new URL(n.src,window.location.href).origin!==window.location.origin&&(o.crossOrigin=""),o.onload=function(){if("cover"===n.fit){var e=r.width/r.height,u=e>1?o.width:o.height*e,c=e>1?o.width/e:o.height,l=.5*o.width-.5*u,s=.5*o.height-.5*c;t.drawImage(o,l,s,u,c,r.x,r.y,r.width,r.height)}else if("contain"===n.fit){var f=Math.min(r.width/o.width,r.height/o.height),h=f*o.width,d=f*o.height,p=r.x+.5*r.width-.5*h,g=r.y+.5*r.height-.5*d;t.drawImage(o,0,0,o.width,o.height,p,g,h,d)}else t.drawImage(o,0,0,o.width,o.height,r.x,r.y,r.width,r.height);ft(t,a),i()},o.src=n.src},text:function(t,e,n){var i=S(n,e),r=O(n,e);st(t,r);var a=b(n.fontSize,e),o=n.fontFamily||"sans-serif",u=n.fontWeight||"normal",c=n.textAlign||"left";return t.font="".concat(u," ").concat(a,"px ").concat(o),t.textAlign=c,t.fillText(n.text,i.x,i.y),ft(t,r),!0},line:function(t,e,n){var i=S(n,e),r=O(n,e);st(t,r),t.beginPath();var a={x:i.x,y:i.y},o={x:i.x+i.width,y:i.y+i.height};t.moveTo(a.x,a.y),t.lineTo(o.x,o.y);var u=x({x:o.x-a.x,y:o.y-a.y}),c=.04*Math.min(e.width,e.height);if(-1!==n.lineDecoration.indexOf("arrow-begin")){var l=T(u,c),s=I(a,l),f=M(a,2,s),h=M(a,-2,s);t.moveTo(f.x,f.y),t.lineTo(a.x,a.y),t.lineTo(h.x,h.y)}if(-1!==n.lineDecoration.indexOf("arrow-end")){var d=T(u,-c),p=I(o,d),g=M(o,2,p),m=M(o,-2,p);t.moveTo(g.x,g.y),t.lineTo(o.x,o.y),t.lineTo(m.x,m.y)}return ft(t,r),!0},path:function(t,e,n){var i=O(n,e);st(t,i),t.beginPath();var r=n.points.map((function(t){return{x:b(t.x,e,1,"width"),y:b(t.y,e,1,"height")}}));t.moveTo(r[0].x,r[0].y);for(var a=r.length,o=1;o<a;o++)t.lineTo(r[o].x,r[o].y);return ft(t,i),!0}},dt=function(t){var e=document.createElement("canvas");return e.width=t.width,e.height=t.height,e.getContext("2d").putImageData(t,0,0),e},pt=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(i,r){if(!t||!a(t))return r({status:"not an image file",file:t});var o=n.stripImageHead,u=n.beforeCreateBlob,c=n.afterCreateBlob,l=n.canvasMemoryLimit,s=e.crop,f=e.size,h=e.filter,d=e.markup,p=e.output,g=e.image&&e.image.orientation?Math.max(1,Math.min(8,e.image.orientation)):null,m=p&&p.quality,y=null===m?null:m/100,E=p&&p.type||null,w=p&&p.background||null,T=[];!f||"number"!==typeof f.width&&"number"!==typeof f.height||T.push({type:"resize",data:f}),h&&20===h.length&&T.push({type:"filter",data:h});var I=function(t){var e=c?c(t):t;Promise.resolve(e).then(i)},x=function(e,n){var i=dt(e),a=d.length?lt(i,d):i;Promise.resolve(a).then((function(e){A(e,n,u).then((function(n){if(v(e),o)return I(n);nt(t).then((function(t){null!==t&&(n=new Blob([t,n.slice(20)],{type:n.type})),I(n)}))})).catch(r)}))};if(/svg/.test(t.type)&&null===E)return J(t,s,d,{background:w}).then((function(t){i(rt(t,"image/svg+xml"))}));var M=URL.createObjectURL(t);ut(M).then((function(e){URL.revokeObjectURL(M);var n=_(e,g,s,{canvasMemoryLimit:l,background:w}),i={quality:y,type:E||t.type};if(!T.length)return x(n,i);var r=ot($);r.post({transforms:T,imageData:n},(function(t){x(K(t),i),r.terminate()}),[n.data.buffer])})).catch(r)}))};function gt(t){this.wrapped=t}function mt(t){var e,n;function i(t,i){return new Promise((function(a,o){var u={key:t,arg:i,resolve:a,reject:o,next:null};n?n=n.next=u:(e=n=u,r(t,i))}))}function r(e,n){try{var i=t[e](n),o=i.value,u=o instanceof gt;Promise.resolve(u?o.wrapped:o).then((function(t){u?r("next",t):a(i.done?"return":"normal",t)}),(function(t){r("throw",t)}))}catch(c){a("throw",c)}}function a(t,i){switch(t){case"return":e.resolve({value:i,done:!0});break;case"throw":e.reject(i);break;default:e.resolve({value:i,done:!1})}(e=e.next)?r(e.key,e.arg):n=null}this._invoke=i,"function"!==typeof t.return&&(this.return=void 0)}function yt(t,e){return vt(t)||Et(t,e)||wt()}function vt(t){if(Array.isArray(t))return t}function Et(t,e){var n=[],i=!0,r=!1,a=void 0;try{for(var o,u=t[Symbol.iterator]();!(i=(o=u.next()).done)&&(n.push(o.value),!e||n.length!==e);i=!0);}catch(c){r=!0,a=c}finally{try{i||null==u.return||u.return()}finally{if(r)throw a}}return n}function wt(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}"function"===typeof Symbol&&Symbol.asyncIterator&&(mt.prototype[Symbol.asyncIterator]=function(){return this}),mt.prototype.next=function(t){return this._invoke("next",t)},mt.prototype.throw=function(t){return this._invoke("throw",t)},mt.prototype.return=function(t){return this._invoke("return",t)};var _t=["x","y","left","top","right","bottom","width","height"],At=function(t){return"string"===typeof t&&/%/.test(t)?parseFloat(t)/100:t},Tt=function(t){var e=yt(t,2),n=e[0],i=e[1],r=i.points?{}:_t.reduce((function(t,e){return t[e]=At(i[e]),t}),{});return[n,Object.assign({zIndex:0},i,r)]},It=function(t){return new Promise((function(e,n){var i=new Image;i.src=URL.createObjectURL(t);var r=function(){var t=i.naturalWidth,n=i.naturalHeight;t&&n&&(URL.revokeObjectURL(i.src),clearInterval(a),e({width:t,height:n}))};i.onerror=function(t){URL.revokeObjectURL(i.src),clearInterval(a),n(t)};var a=setInterval(r,1);r()}))};"undefined"!==typeof window&&"undefined"!==typeof window.document&&(HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(t,e,n){var i=this;setTimeout((function(){for(var r=i.toDataURL(e,n).split(",")[1],a=atob(r),o=a.length,u=new Uint8Array(o);o--;)u[o]=a.charCodeAt(o);t(new Blob([u],{type:e||"image/png"}))}))}}));var xt="undefined"!==typeof window&&"undefined"!==typeof window.document,Mt=xt&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,Rt=function(e){var n=e.addFilter,a=e.utils,o=a.Type,u=a.forin,c=a.getFileFromBlob,l=a.isFile,s=["crop","resize","filter","markup","output"],f=function(t){return function(e,n,i){return e(n,t?t(i):i)}},h=function(t){return null===t.aspectRatio&&0===t.rotation&&1===t.zoom&&t.center&&.5===t.center.x&&.5===t.center.y&&t.flip&&!1===t.flip.horizontal&&!1===t.flip.vertical};n("SHOULD_PREPARE_OUTPUT",(function(t,e){var n=e.query;return new Promise((function(t){t(!n("IS_ASYNC"))}))}));var d=function(e,n,i){return new Promise((function(r){if(!e("GET_ALLOW_IMAGE_TRANSFORM")||i.archived||!l(n)||!t(n))return r(!1);It(n).then((function(){var t=e("GET_IMAGE_TRANSFORM_IMAGE_FILTER");if(t){var i=t(n);if(null==i)return handleRevert(!0);if("boolean"===typeof i)return r(i);if("function"===typeof i.then)return i.then(r)}r(!0)})).catch((function(t){r(!1)}))}))};return n("DID_CREATE_ITEM",(function(t,e){var n=e.query,i=e.dispatch;n("GET_ALLOW_IMAGE_TRANSFORM")&&t.extend("requestPrepare",(function(){return new Promise((function(e,n){i("REQUEST_PREPARE_OUTPUT",{query:t.id,item:t,success:e,failure:n},!0)}))}))})),n("PREPARE_OUTPUT",(function(t,e){var n=e.query,a=e.item;return new Promise((function(e){d(n,t,a).then((function(o){if(!o)return e(t);var l=[];n("GET_IMAGE_TRANSFORM_VARIANTS_INCLUDE_ORIGINAL")&&l.push((function(){return new Promise((function(e){e({name:n("GET_IMAGE_TRANSFORM_VARIANTS_ORIGINAL_NAME"),file:t})}))})),n("GET_IMAGE_TRANSFORM_VARIANTS_INCLUDE_DEFAULT")&&l.push((function(t,e,i){return new Promise((function(r){t(e,i).then((function(t){return r({name:n("GET_IMAGE_TRANSFORM_VARIANTS_DEFAULT_NAME"),file:t})}))}))}));var d=n("GET_IMAGE_TRANSFORM_VARIANTS")||{};u(d,(function(t,e){var n=f(e);l.push((function(e,i,r){return new Promise((function(a){n(e,i,r).then((function(e){return a({name:t,file:e})}))}))}))}));var p=n("GET_IMAGE_TRANSFORM_OUTPUT_QUALITY"),g=n("GET_IMAGE_TRANSFORM_OUTPUT_QUALITY_MODE"),m=null===p?null:p/100,y=n("GET_IMAGE_TRANSFORM_OUTPUT_MIME_TYPE"),v=n("GET_IMAGE_TRANSFORM_CLIENT_TRANSFORMS")||s;a.setMetadata("output",{type:y,quality:m,client:v},!0);var E=function(t,e){return new Promise((function(a,o){var u=Object.assign({},e);Object.keys(u).filter((function(t){return"exif"!==t})).forEach((function(t){-1===v.indexOf(t)&&delete u[t]}));var l=u.resize,s=u.exif,f=u.output,d=u.crop,p=u.filter,m=u.markup,y={image:{orientation:s?s.orientation:null},output:f&&(f.type||"number"===typeof f.quality||f.background)?{type:f.type,quality:"number"===typeof f.quality?100*f.quality:null,background:f.background||n("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR")||null}:void 0,size:l&&(l.size.width||l.size.height)?Object.assign({mode:l.mode,upscale:l.upscale},l.size):void 0,crop:d&&!h(d)?Object.assign({},d):void 0,markup:m&&m.length?m.map(Tt):[],filter:p};if(y.output){var E=!!f.type&&f.type!==t.type,w=/\/jpe?g$/.test(t.type),_=null!==f.quality&&w&&"always"===g;if(!(y.size||y.crop||y.filter||E||_))return a(t)}var A={beforeCreateBlob:n("GET_IMAGE_TRANSFORM_BEFORE_CREATE_BLOB"),afterCreateBlob:n("GET_IMAGE_TRANSFORM_AFTER_CREATE_BLOB"),canvasMemoryLimit:n("GET_IMAGE_TRANSFORM_CANVAS_MEMORY_LIMIT"),stripImageHead:n("GET_IMAGE_TRANSFORM_OUTPUT_STRIP_IMAGE_HEAD")};pt(t,y,A).then((function(e){var n=c(e,i(t.name,r(e.type)));a(n)})).catch(o)}))},w=l.map((function(e){return e(E,t,a.getMetadata())}));Promise.all(w).then((function(t){e(1===t.length&&null===t[0].name?t[0].file:t)}))}))}))})),{options:{allowImageTransform:[!0,o.BOOLEAN],imageTransformImageFilter:[null,o.FUNCTION],imageTransformOutputMimeType:[null,o.STRING],imageTransformOutputQuality:[null,o.INT],imageTransformOutputStripImageHead:[!0,o.BOOLEAN],imageTransformClientTransforms:[null,o.ARRAY],imageTransformOutputQualityMode:["always",o.STRING],imageTransformVariants:[null,o.OBJECT],imageTransformVariantsIncludeDefault:[!0,o.BOOLEAN],imageTransformVariantsDefaultName:[null,o.STRING],imageTransformVariantsIncludeOriginal:[!1,o.BOOLEAN],imageTransformVariantsOriginalName:["original_",o.STRING],imageTransformBeforeCreateBlob:[null,o.FUNCTION],imageTransformAfterCreateBlob:[null,o.FUNCTION],imageTransformCanvasMemoryLimit:[xt&&Mt?16777216:null,o.INT],imageTransformCanvasBackgroundColor:[null,o.STRING]}}};return xt&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:Rt})),Rt}()},53953:function(){},69627:function(){},73042:function(t,e,n){"use strict";e.Q9=e.fo=void 0;var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(67294),o=(i=a)&&i.__esModule?i:{default:i},u=n(66136);e.fo=u.registerPlugin,u.FileStatus;var c=(0,u.supported)(),l=["setOptions","on","off","onOnce","appendTo","insertAfter","insertBefore","isAttachedTo","replaceElement","restoreElement","destroy"];e.Q9=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.allowFilesSync=!0,n}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"componentDidMount",value:function(){var t=this;if(c){var e=Object.assign({},this.props);if(e.onupdatefiles){var n=e.onupdatefiles;e.onupdatefiles=function(e){t.allowFilesSync=!1,n(e)}}this._pond=(0,u.create)(this._element,e),Object.keys(this._pond).filter((function(t){return!l.includes(t)})).forEach((function(e){t[e]=t._pond[e]}))}}},{key:"componentWillUnmount",value:function(){this._pond&&(this._pond.destroy(),this.allowFilesSync=!0)}},{key:"shouldComponentUpdate",value:function(){return!!this.allowFilesSync||(this.allowFilesSync=!0,!1)}},{key:"componentDidUpdate",value:function(){if(this._pond){var t=Object.assign({},this.props);delete t.onupdatefiles,this._pond.setOptions(t)}}},{key:"render",value:function(){var t=this,e=this.props,n=e.id,i=e.name,r=e.className,o=e.allowMultiple,u=e.required,c=e.captureMethod,l=e.acceptedFileTypes;return(0,a.createElement)("div",{className:"filepond--wrapper"},(0,a.createElement)("input",{type:"file",name:i,id:n,accept:l,multiple:o,required:u,className:r,capture:c,ref:function(e){return t._element=e}}))}}]),e}(o.default.Component)}}]);